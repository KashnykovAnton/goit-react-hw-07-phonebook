(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{42:function(t,e,n){},43:function(t,e,n){},65:function(t,e,n){"use strict";n.r(e);var c=n(0),r=n.n(c),a=n(12),o=n.n(a),u=n(5),i=(n(41),n(42),n(43),n(1));function b(t){var e=t.title,n=t.children;return Object(i.jsxs)("section",{children:[Object(i.jsx)("h2",{children:e}),n]})}var j=function(t){return t.contacts},s=function(t){return t.filter},l=function(t){return t.loading},d=n(17),O=n.n(d),f=n(28),h=n(9),m=n.n(h),p=n(2),x=Object(p.b)("contacts/fetchContactRequest"),v=Object(p.b)("contacts/fetchContactSuccess"),C=Object(p.b)("contacts/fetchContactError"),g=Object(p.b)("contacts/addContactRequest"),y=Object(p.b)("contacts/addContactSuccess"),k=Object(p.b)("contacts/addContactError"),w=Object(p.b)("contacts/deleteContactRequest"),S=Object(p.b)("contacts/deleteContactSuccess"),A=Object(p.b)("contacts/deleteContactError"),E=Object(p.b)("contacts/filterContactRequest"),q=Object(p.b)("contacts/filterContactSuccess"),z=Object(p.b)("contacts/filterContactError"),F="https://6196d384af46280017e7e2d4.mockapi.io/contacts",L=function(){return function(){var t=Object(f.a)(O.a.mark((function t(e){var n,c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(x()),t.prev=1,t.next=4,m.a.get("".concat(F));case 4:n=t.sent,c=n.data,e(v(c)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(C(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()};function R(t){var e=t.id,n=t.name,c=t.number,r=Object(u.c)(),a=function(t){return r(function(t){return function(e){e(w()),console.log("id: ",t),m.a.delete("".concat(F,"/").concat(t)).then((function(){return e(S(t))})).catch((function(t){return e(A(t))}))}}(t))};return Object(i.jsxs)("li",{children:[Object(i.jsxs)("span",{children:[n,":"]}),Object(i.jsx)("span",{children:c}),Object(i.jsx)("button",{type:"button",id:e,onClick:function(){a(e)},children:"Delete"})]})}function J(){var t=Object(u.d)(j),e=Object(u.d)(s),n=Object(u.d)(l);Object(c.useEffect)((function(){return L()}),[]);var r=Object(c.useMemo)((function(){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))}),[e,t]);return Object(i.jsxs)(i.Fragment,{children:[n&&Object(i.jsx)("h1",{children:"Loading..."}),Object(i.jsx)("ul",{children:!n&&r.map((function(t){var e=t.id,n=t.name,c=t.number;return Object(i.jsx)(R,{id:e,name:n,number:c},e)}))})]})}var M=n(18),Z=n(66);var B=Object(u.b)(null,(function(t){return{fetchContact:function(){return t(L())}}}))((function(t){var e=t.fetchContact,n=Object(u.d)(j),r=Object(u.c)(),a=Object(c.useState)(""),o=Object(M.a)(a,2),b=o[0],s=o[1],l=Object(c.useState)(""),d=Object(M.a)(l,2),O=d[0],f=d[1];Object(c.useEffect)((function(){return e()}),[e]);var h=function(t){var e=t.target,n=e.name,c=e.value;switch(n){case"name":s(c);break;case"number":f(c);break;default:return}},p=function(t){var e=t.name.toLowerCase();n.find((function(t){return t.name.toLowerCase()===e}))?alert("".concat(t.name," is already in contacts")):r(function(t){return function(e){e(g()),console.log("item: ",t),m.a.post("".concat(F),t).then((function(t){var n=t.data;console.log("data: ",n),e(y(n))})).catch((function(t){return e(k(t))}))}}(t))},x=Object(Z.a)(),v=Object(Z.a)();return Object(i.jsxs)("form",{onSubmit:function(t){t.preventDefault(),p({name:b,number:O}),s(""),f("")},children:[Object(i.jsx)("label",{htmlFor:x,children:"Name"}),Object(i.jsx)("input",{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"\u0418\u043c\u044f \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0443\u043a\u0432, \u0430\u043f\u043e\u0441\u0442\u0440\u043e\u0444\u0430, \u0442\u0438\u0440\u0435 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan \u0438 \u0442. \u043f.",required:!0,value:b,id:x,onChange:h}),Object(i.jsx)("label",{htmlFor:v,children:"Number"}),Object(i.jsx)("input",{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0446\u0438\u0444\u0440 \u0438 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043f\u0440\u043e\u0431\u0435\u043b\u044b, \u0442\u0438\u0440\u0435, \u043a\u0440\u0443\u0433\u043b\u044b\u0435 \u0441\u043a\u043e\u0431\u043a\u0438 \u0438 \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0447\u0438\u043d\u0430\u0442\u044c\u0441\u044f \u0441 +",required:!0,value:O,id:v,onChange:h}),Object(i.jsx)("button",{type:"submit",children:"Add contact"})]})}));function D(){var t=Object(u.d)(s),e=Object(u.c)(),n=Object(c.useCallback)((function(t){var n;e((n=t.target.value,function(t){t(E()),console.log("name: ",n),m.a.get("".concat(F)).then((function(){return t(q(n))})).catch((function(e){return t(z(e))}))}))}),[e]);return Object(i.jsxs)("div",{children:[Object(i.jsx)("label",{htmlFor:Object(Z.a)(),children:"Find contacts by name"}),Object(i.jsx)("input",{type:"text",value:t,id:Object(Z.a)(),onChange:n})]})}function N(){return Object(i.jsxs)("div",{children:[Object(i.jsx)(b,{title:"Phonebook",children:Object(i.jsx)(B,{})}),Object(i.jsxs)(b,{title:"Contacts",children:[Object(i.jsx)(D,{}),Object(i.jsx)(J,{})]})]})}var I,P,T,$=n(14),G=n(3),H=n(4),K=Object(p.c)([],(I={},Object(G.a)(I,v,(function(t,e){return e.payload})),Object(G.a)(I,y,(function(t,e){return[].concat(Object($.a)(t),[e.payload])})),Object(G.a)(I,S,(function(t,e){return t.filter((function(t){return t.id!==e.payload}))})),I)),Q=Object(p.c)("",Object(G.a)({},q,(function(t,e){return e.payload}))),U=Object(p.c)(!1,(P={},Object(G.a)(P,x,(function(){return!0})),Object(G.a)(P,v,(function(){return!1})),Object(G.a)(P,C,(function(){return!1})),Object(G.a)(P,g,(function(){return!0})),Object(G.a)(P,y,(function(){return!1})),Object(G.a)(P,k,(function(){return!1})),Object(G.a)(P,w,(function(){return!0})),Object(G.a)(P,S,(function(){return!1})),Object(G.a)(P,A,(function(){return!1})),Object(G.a)(P,E,(function(){return!0})),Object(G.a)(P,q,(function(){return!1})),Object(G.a)(P,z,(function(){return!1})),P)),V=Object(p.c)(null,(T={},Object(G.a)(T,C,(function(t,e){return e.payload})),Object(G.a)(T,k,(function(t,e){return e.payload})),Object(G.a)(T,A,(function(t,e){return e.payload})),Object(G.a)(T,z,(function(t,e){return e.payload})),T)),W=Object(H.b)({contacts:K,filter:Q,loading:U,error:V}),X=n(7),Y=n(29),_=n.n(Y),tt=[].concat(Object($.a)(Object(p.d)({serializableCheck:{ignoredActions:[X.a,X.f,X.b,X.c,X.d,X.e]}})),[_.a]),et=Object(p.a)({reducer:W,middleware:tt,devTools:!1});o.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(u.a,{store:et,children:Object(i.jsx)(N,{})})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.aa5f10de.chunk.js.map